# 2025-12-26 多语言系统支持

## 基础库
- 新增多语言系统 `lang`（支持按模块命名空间管理语言包），并从 `@/duxapp/utils` 导出 `lang` / `duxappLang`
- 基础组件/工具内置文案逐步接入多语言（如 `ActionSheet`、`ShowLoading`、请求 hooks 等）
- `ObjectManage` 的写缓存与事件通知合并到微任务队列，减少频繁 `set/merge` 的重复触发
- `ObjectManage` 的 `cacheSync` 现在在 RN 端也可用（基于 RN 端的本地存储适配）
- `theme` 新增 `getMode(saveMode?)` 与 `onChange(callback)`，可读取/监听“真实生效主题”（跟随系统时保存值可能为 `null`）

## React Native

- `react-native-nitro-modules` `react-native-mmkv` `react-native-reanimated` `react-native-worklets` 这几个常用插件现在默认集成到基础库里面
- RN端 Animated 使用 react-native-reanimated 重写
- RN 端使用 `react-native-mmkv` 适配了 Taro 的 `getStorage` 系列本地存储方法，补全了之前 RN 端同步方法不可用的问题：只需要从 `@/duxapp` 导入即可使用，例如 `import { getStorageSync, setStorage } from '@/duxapp'`

## duxappCanvas 画布

- 优化性能表现

## UI库

- 完善多语言支持，内置 `zh` `zhHant` `en` 支持
- 新增 Katex 组件 用于展示数学公式
- `List`：`url` 为空时不再发起请求/不触发下拉刷新与上拉加载，可配合 `listData` 仅作为渲染容器使用；加载/空提示文案接入多语言
- `HtmlView`：改用 `htmlParse` 对 HTML 进行规范化处理（图片自适应、补齐默认颜色/边框等，并跟随主题）

## duxappWechatShare

- 优化分享逻辑

## 项目模板

- `babel.config.js` 不再依赖 `duxapp-cli` 的合并方法，改为模板内自行合并并支持覆盖 `presets/plugins/env`

## CLI

- 配合多语言开发
- 导入用户配置支持直接导入，而非解析读取
